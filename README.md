# Микро-CRM для торговли на Laravel

Простое веб-приложение для управления заказами, товарами и их остатками на складах. Проект включает в себя REST API и базовый веб-интерфейс для демонстрации.

## Ключевые возможности

*   **REST API** для полной интеграции с любыми внешними системами.
*   Управление жизненным циклом заказа (создание, обновление, завершение, отмена, возобновление).
*   Автоматическое списание и возврат товаров на склад.
*   Ведение полной истории движения товаров по складам.
*   **Веб-интерфейс** для удобного управления заказами.
*   Наполнение базы тестовыми данными через консольную команду.

## Технологический стек

*   **PHP 8.0+** (проект также совместим с PHP 7.4)
*   **Laravel** (актуальная версия)
*   **MySQL** или **MariaDB**
*   **Composer** для управления зависимостями

## Требования к окружению

Перед началом установки убедитесь, что на вашем компьютере установлены:
1.  **Git**
2.  **Composer** (https://getcomposer.org/)
3.  **PHP** (версии 7.4 или выше)
4.  **Сервер баз данных MySQL или MariaDB** (например, в составе XAMPP, Open Server, Laragon)

---

## Инструкция по установке и запуску

**Шаг 1: Клонирование репозитория**
Откройте терминал (консоль) и выполните следующую команду, чтобы скопировать проект на ваш компьютер:
```bash
git clone [URL вашего репозитория] micro-crm

Перейдите в созданную папку:

cd micro-crm

Шаг 2: Установка зависимостей
Установите все необходимые PHP-библиотеки с помощью Composer:

composer install

Шаг 3: Настройка окружения
Скопируйте файл с примером переменных окружения:

cp .env.example .env

Теперь откройте созданный файл .env в вашем редакторе кода и настройте подключение к базе данных.
Важно: Перед следующим шагом создайте пустую базу данных в вашей системе управления БД (например, через phpMyAdmin).
Пример настроек для Open Server:

DB_CONNECTION=mysql
DB_HOST=MySQL-8.0
DB_PORT=3306
DB_DATABASE=micro_crm_db
DB_USERNAME=root
DB_PASSWORD=

Пример настроек для XAMPP:

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=micro_crm_db
DB_USERNAME=root
DB_PASSWORD=

Шаг 4: Генерация ключа приложения
Каждое приложение Laravel должно иметь уникальный ключ шифрования. Сгенерируйте его командой:

php artisan key:generate

Шаг 5: Создание структуры БД и наполнение тестовыми данными
Выполните одну команду, которая создаст все необходимые таблицы в базе данных и сразу же заполнит справочники товаров, складов и остатков тестовыми данными:

php artisan migrate:fresh --seed

Шаг 6: Запуск локального сервера
Всё готово! Запустите встроенный в Laravel сервер для разработки:

php artisan serve

Использование
Веб-интерфейс
После запуска сервера откройте в вашем браузере следующий адрес:
http://127.0.0.1:8000
Вы увидите панель управления, где можно создавать, просматривать и управлять заказами.
REST API
API также доступно для тестирования через Postman или другие инструменты. Все эндпоинты начинаются с /api/. Например:
GET http://127.0.0.1:8000/api/orders - получить список заказов.
GET http://127.0.0.1:8000/api/products - получить список товаров.
